This is a modified version of liquidfun.
It is based on commit 0708ce1464b0db3cf34353258ce939a82f28a173.
